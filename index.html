<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link
    href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap"
    rel="stylesheet"
  />
  <link rel="stylesheet" href="src/styles.css" />
  <title>My Weather Application</title>
</head>
<body>
  <div class="weather-app">
    <header>
      <form id="search-form">
        <input
          type="search"
          placeholder="Enter a city.."
          required
          class="search-input"
          id="search-input"
        />
        <button type="submit" class="search-button">Search</button>
      </form>
    </header>
    <main>
      <div class="current-weather">
        <div>
          <h1 class="current-city" id="current-city">Paris</h1>
          <p class="current-details">
            <span id="current-date"></span>, <span id="current-description">moderate rain</span> <br />
            Humidity: <strong><span id="current-humidity">87%</span></strong>, Wind: <strong><span id="current-wind">7.2km/h</span></strong>
          </p>
        </div>
        <div class="current-temperature">
          <img src="" alt="Weather Icon" class="current-temperature-icon" id="current-weather-icon">
          <span class="current-temperature-value">24</span
          ><span class="current-temperature-unit">Â°C</span>
        </div>
      </div>
    </main>
    <footer>
      <p>
        This project was coded by
        <a href="#" target="_blank">Matt Delac</a> and is
        <a href="#" target="_blank">on GitHub</a> and
        <a href="#" target="_blank">hosted on Netlify</a>
      </p>
    </footer>
  </div>
  <script src="src/index.js"></script>
  <script>
    document.getElementById("search-form").addEventListener("submit", function(event) {
      event.preventDefault();

      const city = document.getElementById("search-input").value.trim();
      if (!city) return;

      fetch(`https://api.openweathermap.org/data/2.5/weather?q=${city}&appid=YOUR_API_KEY&units=metric`)
        .then(response => response.json())
        .then(data => {
          document.getElementById("current-city").textContent = city;
          document.getElementById("current-temperature-value").textContent = Math.round(data.main.temp);
          document.getElementById("current-description").textContent = data.weather[0].description;
          document.getElementById("current-humidity").textContent = `${data.main.humidity}%`;
          document.getElementById("current-wind").textContent = `${data.wind.speed} km/h`;
          document.getElementById("current-weather-icon").src = `http://openweathermap.org/img/wn/${data.weather[0].icon}.png`;
        })
        .catch(error => {
          console.error("Error fetching weather data:", error);
          alert("Error fetching weather data. Please try again later.");
        });
    });
  </script>
</body>
</html>
